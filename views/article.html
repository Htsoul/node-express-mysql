<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的</title>
    <link rel="stylesheet" href="css/article/page.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/article/icons.min.css">
</head>
<body>
    <div class="page" id="app">
        <div class="nav-left" v-show="navLeftFlag" ref="navLeft">
            <div class="LogoName">
               <img src="{{ user.avatar}}" alt=""><br>
               <p>{{ user.username }}</p>
            </div>
            <div class="navDiv">
                <div class="navName">我的</div>
                <div class="nav-list">
                    <ul>
                        <li class="nav-tab a_active waves-effect">
                            <a href="/article/home" class="li-a active" target="iframe"><span class="
                                glyphicon glyphicon-home" aria-hidden="true"></span> 主页
                                <span class="badge badge-pill badge-primary float-right"></span>
                            </a>
                        </li>
                        <!-- <li class="nav-tab">
                            <a href="#" class="li-a"><i class='bx bx-home-smile'></i> 设备管理</a>
                        </li> -->
                        <li class="nav-tab nav-ul">
                            <a href="/article/mine" class="li-a" target="iframe"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> 我的发布
                                </a>
                        </li>
                        <li class="nav-tab nav-ul">
                            <a href="/article/comment" class="li-a" target="iframe"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span> 我的评论
                                </a>
                        </li>
                        <li class="nav-tab nav-ul">
                            <a href="/article/thumbs" class="li-a" target="iframe"><span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span> 我的点赞
                               </a>

                        </li>
                        <li class="nav-tab nav-ul">
                            <a href="/article/collection" class="li-a" target="iframe"><span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span> 我的收藏
                                </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="nav-right" ref="navRight">
            <div class="nav-top">
                <button type="button" class="btn btn-primary btn-sm hiddenBtn" style="line-height: 10px;" @click="isShowLeft">
                    <span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span>
                </button>
                <!-- <button type="button" class="btn btn-primary btn-sm showBtn" style="line-height: 10px; display: none;" onclick="showNavRight">
                    <i class="bx bx-expand" style="font-size: 16px;"></i>
                </button> -->
            </div>
            <div class="content-page" ref="cPage">
                <iframe name="iframe" width="100%" height="100%" frameborder="0" src="/article/home"></iframe>
            </div>
        </div>
    </div>
    <script src="js/vue.min.js"></script>
    <script src="js/jquery.min.js"></script>
    <script type="text/javascript">
        $(function() {
            let navflag = false;
            $('.nav-tab').click(function() {
                $(this).siblings().each(function() {
                    $(this).removeClass('a_active');
                    // $(this).removeClass('a_active');
                    $(this).find('.nav-box').css('height', '0')
                    //关闭右侧箭头
                    if ($(this).attr('class').indexOf('nav-ul') != -1) {
                        $(this).find('.bx-chevron-right').css('transform', 'rotateZ(0deg)')
                        $(this).find('.bx-chevron-right').css('transition', 'all .5s')
                        $(this).removeClass('nav-show')
                        // $(this).find('div').removeClass('nav-box')
                    }
                })
                //当前选中
                $(this).addClass('a_active')
                $(this).find('.li-a').addClass('active')
                // 打开右侧箭头
                $(this).find('.bx-chevron-right').css('transform', 'rotateZ(90deg)')
                $(this).find('.bx-chevron-right').css('transition', 'all .5s')
                $(this).addClass('nav-show')
                // $(this).find('div').addClass('nav-box')
            })

        })
        const vue = new Vue({
            el: '#app',
            data: {
                navLeftFlag: true
            },
            methods: {
                isShowLeft() {
                    if (this.navLeftFlag ) {
                        this.$refs.navRight.style.paddingLeft = '0px'
                        this.$refs.cPage.style.left = '0px';
                        this.navLeftFlag = false;
                        // this.$refs.navLeft.style.width = '0px';
                        // setTimeout(()=>{
                        // 	this.navLeftFlag = false;
                        // },200)
                    } else {
                        this.$refs.navRight.style.paddingLeft = '240px';
                        this.$refs.cPage.style.left = '240px';
                        this.navLeftFlag = true;
                        // this.$refs.navLeft.style.width = '240px';
                        // setTimeout(()=>{
                        // 	this.navLeftFlag = true;
                        // },200)
                    }
                }
            }
        })
    </script>
</body>
</html>